# Бот для поиска источников изображений в интернете
Telegram бот на основе Aiogram 3.4.1, от пользователя принимает только сообщения с изображениями или альбом изображений.

В ответ присылает результаты поиска в виде ссылок на сайты-источники в виде Inline клавиатуры с кнопками.

Для поиска источников по умолчанию первым используется сервис SauceNao.
Если источники не найдены, или пользователя не удовлетворят результаты, предлагается поиск с помощью сервиса ASCII2D.

### Для работы необходим файл "creds" в главной директории
Содержащий следующие поля:
* TG_TOKEN=[токен телеграм бота от BotFather]
* SAUCE_TOKEN=[токен с сервиса SauceNao для использования API]

### Работа поисковика
Поиск по SauceNao осуществляется с помощью библиотеки Python saucenao-api. Используется как основной из-за быстроты и небольшой нагрузки, но имеет ограниченное количество запросов в день.

Поиск по ASCII2D, в виду отсутствия API, осуществляется с помощью асинхронных запросов и парсинга полученных страниц. Схожесть отправленной картинки с результатами определяется с помощью сравнения картинок по хэшу (PIL + ImageHash). Ограничений не имеет, но при этом довольно длительный, 
в связи с чем используется как резервный вариант.

### Запуск
```
python main.py
```

### Ссылка на бота
t.me/SWPicFinderBot